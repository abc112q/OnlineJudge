## 危险问题
### 无限睡眠
这种是时间上的占用
### 内存爆满
可能是用户恶意占用内存 导致内存溢出

对于这种情况其实可以直接调整jvm的限制内存大小 使用jvm的命令
### 读文件
比如说有用户可能写了一个恶意代码 读取到配置文件的据库密码
### 写文件，越权植入木马
往你程序中写入代码（新写一个bat可是执行文件）植入木马，导致你的程序被攻击
### 运行了写入的文件 （比如刚刚植入的木马）
甚至可能操作电脑上获得其他程序
### 执行高危命令
甚至都不用写木马 直接执行系统自带的危险命令（比如删库跑路、删除服务器的所有文件、使用dir/ls获取系统上的所有文件和信息）

## 解决方法
1) 超时控制
>主线程在执行程序可能停不下来，那么我们可以再开一个线程来监控，如果过期就终端
2) 限制给用户分配的资源
>可以使用参数-Xxm来限制jvm层面的内存大小，是系统实际上占用的还是会比这个限制大，因此这个限制并不是绝对的，如果需要更严格的限制要从系统层面限制
> 对于linux系统可以使用cgroup命令
3) 限制代码 - 黑白名单
> 先定义哪些操作就是禁止的 可以是一个禁止的列表
4) 限制用户的操作权限（文件、网络、内存、CPU等资源的访问）
>黑白名单的缺点： 无法穷举所有的黑名单 ；不同的人编程语言对应的关键词不一样、搜集成本很大

>使用java安全管理器(Security Manager) 是java保护jvm、java的安全机制，可以实现更严格的操作限制
> 但问题在于使用这个需要过于详细的写好白名单

在实际情况中，我们真正需要校验的并不是开发者自己的代码，而是开发者读取的用户输入的代码
所以我们需要用Security命令在Process中
5) 运行环境隔离
